.header {
  @apply fixed top-0 left-0 right-0 z-50 transition-all duration-300;
}

.header-transparent {
  @apply bg-transparent;
}

.header-solid {
  @apply bg-white/95 dark:bg-gray-900/95 backdrop-blur-md shadow-lg;
}

.mobile-menu {
  @apply fixed inset-0 bg-white dark:bg-gray-900 z-40 transform transition-transform duration-300;
}

.mobile-menu-open {
  @apply translate-x-0;
}

.mobile-menu-closed {
  @apply translate-x-full;
}

.nav-item {
  @apply relative;
}

.nav-item::after {
  content: '';
  @apply absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 transition-all duration-300;
}

.nav-item:hover::after,
.nav-item.active::after {
  @apply w-full;
}

/* ===== Responsive refinements for header ===== */

/* Make sure header height is predictable on small screens */
:root {
  --navbar-height: 60px;
}

/* Reserve space below header on pages that don't offset own padding */
body.has-fixed-header {
  padding-top: var(--navbar-height);
}

/* Ensure mobile menu content scrolls if too tall */
.mobile-menu {
  max-height: 100vh;
  overflow-y: auto;
}

/* Tap targets larger on mobile */
@media (max-width: 640px) {
  .theme-toggle,
  .mobile-toggle-btn,
  .user-button-mobile {
    width: 2.5rem;
    height: 2.5rem;
  }

  .navbar-container {
    padding: 0 0.75rem;
  }
}

/* Avoid z-index wars: keep header above page but below modals that use z=1000+ */
.header,
.navbar {
  z-index: 1000;
}

/* Ensure dropdown not clipped */
.navbar-container,
.navbar-content,
.navbar-nav {
  overflow: visible;
}

/* Horizontal overflow guard for tiny screens */
body, html {
  overflow-x: hidden;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .navbar,
  .mobile-menu {
    transition: none;
  }
}
