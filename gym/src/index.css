/* Import component-specific styles first (your order retained) */
@import './styles/navbar.css';
@import './styles/hero.css';
@import './styles/membership-plans.css';
@import './styles/trainer-profiles.css';
@import './styles/class-schedule.css';
@import './styles/workout-tips.css';
@import './styles/gallery.css';
@import './styles/contact.css';
@import './styles/footer.css';
@import './styles/scroll-to-top.css';

/* Then import Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =======================
   Base styles (tokens etc.)
   ======================= */
@layer base {
  :root {
    --primary-color: #3b82f6;
    --primary-dark: #2563eb;
    --primary-light: #dbeafe;
    --secondary-color: #8b5cf6;
    --text-dark: #1f2937;
    --text-light: #4b5563;
    --text-lighter: #6b7280;
    --bg-light: #f9fafb;
    --bg-dark: #1f2937;
    --bg-white: #ffffff;
    --card-light: white;
    --card-dark: #374151;
    --border-light: #e5e7eb;
    --border-dark: #4b5563;
    --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 10px 25px rgba(0, 0, 0, 0.05);
    --shadow-lg: 0 20px 30px rgba(0, 0, 0, 0.1);
    --shadow-dark-md: 0 10px 25px rgba(0, 0, 0, 0.2);
    --shadow-dark-lg: 0 20px 30px rgba(0, 0, 0, 0.3);
    --transition: all 0.3s ease;
    --border-radius: 0.5rem;
    --border-radius-lg: 1rem;
    --navbar-height: 60px;
  }

  /* Global reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
  }

  html, body {
    width: 100vw;
    max-width: 100vw;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    position: relative;
    left: 0;
    right: 0;
  }

  html {
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: var(--primary-color) #f3f4f6;
  }

  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    line-height: 1.6;
    min-height: 100vh;
    width: 100vw;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  ::selection { background-color: var(--primary-color); color: white; }
  ::-moz-selection { background-color: var(--primary-color); color: white; }
}

/* =======================
   Components layer
   ======================= */
@layer components {
  /* Fluid container helpers */
  .container-max {
    width: 100vw;
    max-width: 100vw;
    margin: 0;
    padding-left: 1rem;
    padding-right: 1rem;
    box-sizing: border-box;
  }

  @media (min-width: 640px) {
    .container-max { padding-left: 1.5rem; padding-right: 1.5rem; }
  }

  @media (min-width: 1024px) {
    .container-max { padding-left: 2rem; padding-right: 2rem; }
  }

  .section-full {
    width: 100vw;
    max-width: 100vw;
    overflow: hidden;
    margin: 0;
    padding: 0;
  }

  /* Buttons */
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 text-white font-semibold py-2 px-5 rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  .btn-secondary {
    @apply bg-transparent border-2 border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white font-semibold py-2 px-5 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  .btn-outline {
    @apply bg-transparent border-2 border-white text-white hover:bg-white hover:text-gray-900 font-semibold py-2 px-5 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2;
  }

  /* Card */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700;
    width: 100%;
  }

  /* Sections */
  .section-padding {
    @apply py-16 md:py-24;
    width: 100vw;
    padding-left: 0;
    padding-right: 0;
    margin: 0;
    box-sizing: border-box;
  }

  /* Typography */
  .hero-title { @apply text-5xl md:text-6xl lg:text-7xl font-bold leading-tight; }
  .hero-subtitle { @apply text-xl md:text-2xl text-gray-600 dark:text-gray-400 max-w-3xl; }
  .section-title { @apply text-4xl md:text-5xl font-bold text-center mb-4; }
  .section-subtitle { @apply text-xl text-gray-600 dark:text-gray-400 text-center max-w-3xl mx-auto; }

  /* Badges */
  .badge { @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium; }
  .badge-primary { @apply bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200; }
  .badge-success { @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200; }
  .badge-warning { @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200; }
  .badge-error { @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200; }
}

/* =======================
   Utilities layer
   ======================= */
@layer utilities {
  .w-screen-full { width: 100vw; max-width: 100vw; margin-left: 0; margin-right: 0; left: 0; right: 0; position: relative; }
  .w-full-bleed { width: 100vw; max-width: 100vw; margin: 0; padding: 0; }

  .text-shadow { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
  .text-shadow-lg { text-shadow: 3px 3px 6px rgba(0,0,0,0.5); }

  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-600 { animation-delay: 600ms; }
  .animation-delay-800 { animation-delay: 800ms; }
  .animation-delay-1000 { animation-delay: 1000ms; }

  .bg-pattern { background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.15) 1px, transparent 0); background-size: 20px 20px; width: 100vw; margin: 0; }
  .bg-dots { background-image: radial-gradient(circle, #e5e7eb 1px, transparent 1px); background-size: 15px 15px; width: 100vw; margin: 0; }
  .bg-dots-dark { background-image: radial-gradient(circle, #374151 1px, transparent 1px); background-size: 15px 15px; width: 100vw; margin: 0; }

  .progress-bar { @apply w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2; }
  .progress-fill { @apply bg-primary-500 h-2 rounded-full transition-all duration-500 ease-out; }

  .divider { @apply relative flex items-center justify-center; width: 100vw; margin: 0; }
  .divider::before, .divider::after { content: ''; @apply flex-1 h-px bg-gray-300 dark:bg-gray-600; }
  .divider span { @apply px-4 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-900; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background-color: #f3f4f6; }
.dark ::-webkit-scrollbar-track { background-color: #1f2937; }
::-webkit-scrollbar-thumb { background-color: var(--primary-color); border-radius: 9999px; }
::-webkit-scrollbar-thumb:hover { background-color: var(--primary-dark); }

/* Animations */
@keyframes pulse { 0%,100% {opacity:1} 50% {opacity:.5} }
@keyframes bounce { 0%,100% { transform: translateY(-25%); animation-timing-function:cubic-bezier(.8,0,1,1) } 50% { transform:none; animation-timing-function:cubic-bezier(0,0,.2,1) } }
@keyframes spin { to { transform: rotate(360deg) } }
@keyframes ping { 75%,100% { transform: scale(2); opacity: 0 } }
@keyframes fadeIn { from{opacity:0} to{opacity:1} }
@keyframes slideUp { from{transform:translateY(20px); opacity:0} to{transform:none; opacity:1} }
@keyframes slideDown { from{transform:translateY(-20px); opacity:0} to{transform:none; opacity:1} }
@keyframes slideLeft { from{transform:translateX(20px); opacity:0} to{transform:none; opacity:1} }
@keyframes slideRight { from{transform:translateX(-20px); opacity:0} to{transform:none; opacity:1} }
@keyframes zoomIn { from{transform:scale(.9); opacity:0} to{transform:scale(1); opacity:1} }
@keyframes countUp { from{opacity:0; transform:translateY(20px)} to{opacity:1; transform:none} }

.animate-pulse { animation: pulse 2s cubic-bezier(.4,0,.6,1) infinite; }
.animate-bounce { animation: bounce 1s infinite; }
.animate-spin { animation: spin 1s linear infinite; }
.animate-ping { animation: ping 1s cubic-bezier(0,0,.2,1) infinite; }
.animate-fade-in { animation: fadeIn .5s ease-in-out; }
.animate-slide-up { animation: slideUp .5s ease-out; }
.animate-slide-down { animation: slideDown .5s ease-out; }
.animate-slide-left { animation: slideLeft .5s ease-out; }
.animate-slide-right { animation: slideRight .5s ease-out; }
.animate-zoom-in { animation: zoomIn .5s ease-out; }
.stats-counter { animation: countUp .8s ease-out; }

/* Focus visible */
.focus-visible:focus {
  @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
}

/* Print */
@media print {
  .no-print { display: none !important; }
  .print-break { page-break-after: always; }
  .print-avoid-break { page-break-inside: avoid; }
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .hero-title { @apply text-4xl; }
  .section-title { @apply text-3xl; }
  .section-padding { @apply py-12; }

  .mobile-hidden { display: none; }
  .mobile-full { width: 100vw; margin: 0; }
  .mobile-center { text-align: center; }
}
@media (min-width: 769px) {
  .desktop-hidden { display: none; }
}

/* High contrast */
@media (prefers-contrast: high) {
  .card { @apply border-2 border-gray-900 dark:border-white; }
  .btn-primary { @apply border-2 border-primary-700; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; }
  html { scroll-behavior: auto; }
}

/* Dark scrollbar */
@media (prefers-color-scheme: dark) {
  html { scrollbar-color: #3b82f6 #374151; }
}

/* Header blur */
.header-blur {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  width: 100vw;
  margin: 0;
  left: 0;
  right: 0;
}

/* Hero section adjustments under fixed navbar */
.hero-section {
  padding-top: var(--navbar-height);
  min-height: calc(100vh - var(--navbar-height));
  width: 100vw;
  margin: 0;
  left: 0;
  right: 0;
  position: relative;
}

/* Light containers */
.membership-container,
.trainers-container,
.schedule-container,
.tips-container,
.gallery-container,
.contact-container,
.footer-container {
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding-left: 1rem;
  padding-right: 1rem;
  box-sizing: border-box;
}
@media (min-width: 640px) {
  .membership-container,
  .trainers-container,
  .schedule-container,
  .tips-container,
  .gallery-container,
  .contact-container,
  .footer-container { padding-left: 1.5rem; padding-right: 1.5rem; }
}
@media (min-width: 1024px) {
  .membership-container,
  .trainers-container,
  .schedule-container,
  .tips-container,
  .gallery-container,
  .contact-container,
  .footer-container { padding-left: 2rem; padding-right: 2rem; }
}

/* Section full width guard */
.hero-section,
.membership-section,
.trainers-section,
.schedule-section,
.tips-section,
.gallery-section,
.contact-section,
.footer {
  width: 100vw;
  max-width: 100vw;
  overflow-x: hidden;
  margin: 0;
  padding-left: 0;
  padding-right: 0;
  left: 0;
  right: 0;
  position: relative;
}

/* Fix filter title alignment (class schedule) */
.filter-title.mb-4 {
  margin-bottom: 1rem !important;
  text-align: left !important;
  display: flex !important;
  align-items: center !important;
}
.filter-title.mb-4::before {
  content: '';
  display: inline-block;
  width: 1.25rem;
  height: 1.25rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolygon points='22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3'%3E%3C/polygon%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  margin-right: 0.5rem;
}

/* Ensure class details visibility */
.class-details {
  opacity: 1 !important;
  visibility: visible !important;
  height: auto !important;
  overflow: visible !important;
  transition: none !important;
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 0.5rem !important;
  margin-top: 0.5rem !important;
}

/* Difficulty & spots badges (class schedule) */
.difficulty-beginner { color: #10b981 !important; font-weight: 500 !important; }
.difficulty-intermediate { color: #f59e0b !important; font-weight: 500 !important; }
.difficulty-advanced { color: #ef4444 !important; font-weight: 500 !important; }
.difficulty-all-levels { color: #3b82f6 !important; font-weight: 500 !important; }

.class-spots {
  font-weight: 500 !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 0.25rem !important;
  display: inline-flex !important;
  align-items: center !important;
}
.spots-available { color: #10b981 !important; background-color: rgba(16,185,129,0.1) !important; }
.spots-limited { color: #ef4444 !important; background-color: rgba(239,68,68,0.1) !important; }

/* Force dropdown above content when needed */
.user-dropdown-wrapper { position: relative !important; z-index: 10000 !important; }
.user-dropdown-menu {
  position: absolute !important;
  top: calc(100% + 5px) !important;
  right: 0 !important;
  width: 12rem !important;
  background-color: white !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
  z-index: 10001 !important;
  border: 1px solid rgba(0,0,0,0.1) !important;
  overflow: visible !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}
.dark .user-dropdown-menu {
  background-color: #1f2937 !important;
  border-color: rgba(255,255,255,0.1) !important;
}
.user-dropdown-item {
  display: block !important;
  width: 100% !important;
  padding: 0.75rem 1rem !important;
  text-align: left !important;
  font-size: 0.875rem !important;
  color: #1f2937 !important;
  background-color: transparent !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  text-decoration: none !important;
  border: none !important;
}
.dark .user-dropdown-item { color: #d1d5db !important; }
.user-dropdown-item:hover { background-color: #f3f4f6 !important; color: #3b82f6 !important; }
.dark .user-dropdown-item:hover { background-color: #374151 !important; color: #60a5fa !important; }

/* User Profile section scroll offset safety */
.user-profile-section {
  min-height: 80vh;
  padding-top: 100px;
  scroll-margin-top: 80px;
}

/* Avoid horizontal scroll globally */
#root, .App {
  width: 100vw;
  max-width: 100vw;
  overflow-x: hidden;
  margin: 0;
  padding: 0;
  left: 0;
  right: 0;
  position: relative;
}
